!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.pow=t():e.pow=t()}(this,function(){return function(e){function t(e){delete installedChunks[e]}function r(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.src=d.p+""+e+"."+w+".hot-update.js",t.appendChild(r)}function n(){return new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,n=d.p+""+w+".hot-update.json";r.open("GET",n,!0),r.timeout=1e4,r.send(null)}catch(e){return t(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+n+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+n+" failed."));else{try{var o=JSON.parse(r.responseText)}catch(e){return void t(e)}e(o)}}})}function o(e){var t=D[e];if(!t)return d;var r=function(r){return t.hot.active?(D[r]?D[r].parents.indexOf(e)<0&&D[r].parents.push(e):(E=[e],v=r),t.children.indexOf(r)<0&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),E=[]),d(r)};for(var n in d)Object.prototype.hasOwnProperty.call(d,n)&&"e"!==n&&Object.defineProperty(r,n,function(e){return{configurable:!0,enumerable:!0,get:function(){return d[e]},set:function(t){d[e]=t}}}(n));return r.e=function(e){function t(){S--,"prepare"===j&&(_[e]||p(e),0===S&&0===T&&l())}return"ready"===j&&s("prepare"),S++,d.e(e).then(t,function(e){throw t(),e})},r}function i(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:v!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:a,apply:f,status:function(e){if(!e)return j;k.push(e)},addStatusHandler:function(e){k.push(e)},removeStatusHandler:function(e){var t=k.indexOf(e);t>=0&&k.splice(t,1)},data:x[e]};return v=void 0,t}function s(e){j=e;for(var t=0;t<k.length;t++)k[t].call(null,e)}function c(e){return+e+""===e?+e:e}function a(e){if("idle"!==j)throw new Error("check() is only allowed in idle status");return b=e,s("check"),n().then(function(e){if(!e)return s("idle"),null;$={},_={},C=e.c,g=e.h,s("prepare");var t=new Promise(function(e,t){y={resolve:e,reject:t}});m={};return p(0),"prepare"===j&&0===S&&0===T&&l(),t})}function u(e,t){if(C[e]&&$[e]){$[e]=!1;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(m[r]=t[r]);0==--T&&0===S&&l()}}function p(e){C[e]?($[e]=!0,T++,r(e)):_[e]=!0}function l(){s("ready");var e=y;if(y=null,e)if(b)f(b).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var r in m)Object.prototype.hasOwnProperty.call(m,r)&&t.push(c(r));e.resolve(t)}}function f(r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.indexOf(n)<0&&e.push(n)}}if("ready"!==j)throw new Error("apply() is only allowed in ready status");r=r||{};var o,i,a,u,p,l={},f=[],h={},v=function(){console.warn("[HMR] unexpected require("+b.moduleId+") to disposed module")};for(var y in m)if(Object.prototype.hasOwnProperty.call(m,y)){p=c(y);var b;b=m[y]?function(e){for(var t=[e],r={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var i=o.pop(),s=i.id,c=i.chain;if((u=D[s])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:s};if(u.hot._main)return{type:"unaccepted",chain:c,moduleId:s};for(var a=0;a<u.parents.length;a++){var p=u.parents[a],l=D[p];if(l){if(l.hot._declinedDependencies[s])return{type:"declined",chain:c.concat([p]),moduleId:s,parentId:p};t.indexOf(p)>=0||(l.hot._acceptedDependencies[s]?(r[p]||(r[p]=[]),n(r[p],[s])):(delete r[p],t.push(p),o.push({chain:c.concat([p]),id:p})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}(p):{type:"disposed",moduleId:y};var O=!1,k=!1,T=!1,S="";switch(b.chain&&(S="\nUpdate propagation: "+b.chain.join(" -> ")),b.type){case"self-declined":r.onDeclined&&r.onDeclined(b),r.ignoreDeclined||(O=new Error("Aborted because of self decline: "+b.moduleId+S));break;case"declined":r.onDeclined&&r.onDeclined(b),r.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+b.moduleId+" in "+b.parentId+S));break;case"unaccepted":r.onUnaccepted&&r.onUnaccepted(b),r.ignoreUnaccepted||(O=new Error("Aborted because "+p+" is not accepted"+S));break;case"accepted":r.onAccepted&&r.onAccepted(b),k=!0;break;case"disposed":r.onDisposed&&r.onDisposed(b),T=!0;break;default:throw new Error("Unexception type "+b.type)}if(O)return s("abort"),Promise.reject(O);if(k){h[p]=m[p],n(f,b.outdatedModules);for(p in b.outdatedDependencies)Object.prototype.hasOwnProperty.call(b.outdatedDependencies,p)&&(l[p]||(l[p]=[]),n(l[p],b.outdatedDependencies[p]))}T&&(n(f,[b.moduleId]),h[p]=v)}var _=[];for(i=0;i<f.length;i++)p=f[i],D[p]&&D[p].hot._selfAccepted&&_.push({module:p,errorHandler:D[p].hot._selfAccepted});s("dispose"),Object.keys(C).forEach(function(e){!1===C[e]&&t(e)});for(var $,P=f.slice();P.length>0;)if(p=P.pop(),u=D[p]){var R={},A=u.hot._disposeHandlers;for(a=0;a<A.length;a++)(o=A[a])(R);for(x[p]=R,u.hot.active=!1,delete D[p],a=0;a<u.children.length;a++){var I=D[u.children[a]];I&&(($=I.parents.indexOf(p))>=0&&I.parents.splice($,1))}}var U,F;for(p in l)if(Object.prototype.hasOwnProperty.call(l,p)&&(u=D[p]))for(F=l[p],a=0;a<F.length;a++)U=F[a],($=u.children.indexOf(U))>=0&&u.children.splice($,1);s("apply"),w=g;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&(e[p]=h[p]);var H=null;for(p in l)if(Object.prototype.hasOwnProperty.call(l,p)){u=D[p],F=l[p];var M=[];for(i=0;i<F.length;i++)U=F[i],o=u.hot._acceptedDependencies[U],M.indexOf(o)>=0||M.push(o);for(i=0;i<M.length;i++){o=M[i];try{o(F)}catch(e){r.onErrored&&r.onErrored({type:"accept-errored",moduleId:p,dependencyId:F[i],error:e}),r.ignoreErrored||H||(H=e)}}}for(i=0;i<_.length;i++){var N=_[i];p=N.module,E=[p];try{d(p)}catch(e){if("function"==typeof N.errorHandler)try{N.errorHandler(e)}catch(t){r.onErrored&&r.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:t,orginalError:e}),r.ignoreErrored||H||(H=t),H||(H=e)}else r.onErrored&&r.onErrored({type:"self-accept-errored",moduleId:p,error:e}),r.ignoreErrored||H||(H=e)}}return H?(s("fail"),Promise.reject(H)):(s("idle"),Promise.resolve(f))}function d(t){if(D[t])return D[t].exports;var r=D[t]={i:t,l:!1,exports:{},hot:i(t),parents:(O=E,E=[],O),children:[]};return e[t].call(r.exports,r,r.exports,o(t)),r.l=!0,r.exports}var h=this.webpackHotUpdatepow;this.webpackHotUpdatepow=function(e,t){u(e,t),h&&h(e,t)};var v,y,m,g,b=!0,w="f0e3aac53c164b73249c",x={},E=[],O=[],k=[],j="idle",T=0,S=0,_={},$={},C={},D={};return d.m=e,d.c=D,d.i=function(e){return e},d.d=function(e,t,r){d.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="",d.h=function(){return w},o(7)(d.s=7)}([function(e,t){function r(e,t){function r(){}if(Object.create)return void(t.prototype=Object.create(e.prototype));r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function n(){return window.history?"history":"hash"}function o(e,t){if(Object.assign)return Object.assign({},e,t);var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r}function i(e){var t="?";for(var r in e)t=t+r+"="+e[r]+"&";return t.substr(0,t.length-1)}function s(e){"?"===e[0]&&(e=e.substr(1));for(var t={},r=e.split("&"),n=0;n<r.length;n++){var o=r[n].split("=");o.length>1?t[o[0]]=o[1]:1==o.length&&""!==o[0]&&(t[o[0]]=o[0])}return t}e.exports={inherit:r,getDefaultRouterType:n,assign:o,encodeQueryString:i,decodeQueryString:s}},function(e,t,r){function n(e,t){if("/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),this.routerBaseUrl=e,this.routers={},t&&"object"==typeof t)for(var r in t)this.register(r,t[r])}var o=r(5);r(0);n.prototype.match=function(){var e=this.getLocation();if(!1===e)return!1;if(this.routers[e])return{component:this.routers[e]};var t=[];for(var r in this.routers)if(-1!==r.indexOf(":")){var n=o(r,t),i=n.exec(e);if(i&&i.length){for(var s=i.slice(1),c={},a=0,u=s.length;a<u;a++)c[t[a].name]=s[a];return{component:this.routers[r],params:c}}}return!1},n.prototype.getRouters=function(){return this.routers},n.prototype.register=function(e,t){if(this.routers[e])throw new Error("the path "+e+" has already registered");this.routers[e]=t},n.prototype.back=function(){history.go(-1)},n.prototype.start=function(){setTimeout(function(){this.onChange()}.bind(this),0)},n.prototype.redirect=function(e,t,r){},n.prototype.getLocation=function(){},e.exports=n},function(e,t,r){function n(){this.router=null,this.current=null,this.rootScope=null,this.resource=new c}var o=r(11),i=r(0),s=r(6),c=r(8);n.prototype.config=function(e){var t={routerBaseUrl:"",resourceBaseUrl:"",rootScope:"#main",routers:{},routeType:i.getDefaultRouterType()};if(e&&"object"==typeof e)for(var r in t)e[r]&&(t[r]=e[r]);return this.rootScope=document.querySelector(t.rootScope)||document,this.resource.setBaseUrl(t.resourceBaseUrl),"history"===t.routeType&&window.history?this.router=new o.HistoryRouter(t.routerBaseUrl,t.routers):this.router=new o.HashRouter(t.routerBaseUrl,t.routers),this},n.prototype.Component=function(e,t){return"function"==typeof t&&(t=t()),this.resource.set(e,s.create(t))},n.prototype.start=function(){var e=this;this.router&&this.resource||this.config(void 0),this.router.onChange=function(){var t=this.match();if(!t)return console.error("url not found!"),!1;e.current&&e.current.remove&&e.current.remove(),e.resource.get(t.component,function(r){if(!r)return console.error("component not define!"),!1;e.current=new r({state:{},props:i.assign(t.params,i.decodeQueryString(window.location.search)),rootScope:e.rootScope}),e.current.onCreate(),e.current.render()})},this.router.start()},e.exports=n},function(e,t,r){/*! art-template@4.9.1 for browser | https://github.com/aui/art-template */
!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=22)}([function(e,t,r){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(t,r(4))},function(e,t,r){"use strict";var n=r(17),o=r(2),i=r(18),s=function(e,t){t.onerror(e,t);var r=function(){return"{Template Error}"};return r.mappings=[],r.sourcesContent=[],r},c=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof t?r=t:r.source=t,r=o.$extend(r),t=r.source,r.debug&&(r.cache=!1,r.bail=!1,r.minimize=!1,r.compileDebug=!0),r.compileDebug&&(r.minimize=!1),r.filename&&(r.filename=r.resolveFilename(r.filename,r));var c=r.filename,a=r.cache,u=r.caches;if(a&&c){var p=u.get(c);if(p)return p}if(!t)try{t=r.loader(c,r),r.source=t}catch(e){var l=new i({name:"CompileError",path:c,message:"template not found: "+e.message,stack:e.stack});if(r.bail)throw l;return s(l,r)}var f=void 0,d=new n(r);try{f=d.build()}catch(l){if(l=new i(l),r.bail)throw l;return s(l,r)}var h=function(t,n){try{return f(t,n)}catch(o){if(!r.compileDebug)return r.cache=!1,r.compileDebug=!0,e(r)(t,n);if(o=new i(o),r.bail)throw o;return s(o,r)()}};return h.mappings=f.mappings,h.sourcesContent=f.sourcesContent,h.toString=function(){return f.toString()},a&&c&&u.set(c,h),h};c.Compiler=n,e.exports=c},function(e,t,r){"use strict";function n(){this.$extend=function(e){return e=e||{},s(e,e instanceof n?e:this)}}var o=r(0),i=r(20),s=r(9),c=r(11),a=r(13),u=r(8),p=r(12),l=r(15),f=r(16),d=r(10),h=r(14),v={source:null,filename:null,rules:[f,l],escape:!0,debug:!!o&&!1,bail:!1,cache:!0,minimize:!0,compileDebug:!1,resolveFilename:h,include:c,htmlMinifier:d,htmlMinifierOptions:{collapseWhitespace:!0,minifyCSS:!0,minifyJS:!0,ignoreCustomFragments:[]},onerror:a,loader:p,caches:u,root:"/",extname:".art",ignore:[],imports:i};n.prototype=v,e.exports=new n},function(e,t){},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0]};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}},function(e,t,r){"use strict";e.exports=r(2)},function(e,t,r){"use strict";var n=r(1),o=function(e,t,r){return n(e,r)(t)};e.exports=o},function(e,t,r){"use strict";var n={__data:Object.create(null),set:function(e,t){this.__data[e]=t},get:function(e){return this.__data[e]},reset:function(){this.__data={}}};e.exports=n},function(e,t,r){"use strict";var n=Object.prototype.toString,o=function(e){return null===e?"Null":n.call(e).slice(8,-1)},i=function e(t,r){var n=void 0,i=o(t);if("Object"===i?n=Object.create(r||{}):"Array"===i&&(n=[].concat(r||[])),n){for(var s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s],n[s]));return n}return t};e.exports=i},function(e,t,r){"use strict";var n=r(0),o=function(e,t){if(n){var o,i=r(23).minify,s=t.htmlMinifierOptions,c=t.rules.map(function(e){return e.test});(o=s.ignoreCustomFragments).push.apply(o,c),e=i(e,s)}return e};e.exports=o},function(e,t,r){"use strict";var n=function(e,t,n,o){var i=r(1);return o=o.$extend({filename:o.resolveFilename(e,o),bail:!0,source:null}),i(o)(t,n)};e.exports=n},function(e,t,r){"use strict";var n=r(0),o=function(e){if(n)return r(3).readFileSync(e,"utf8");var t=document.getElementById(e);return t.value||t.innerHTML};e.exports=o},function(e,t,r){"use strict";var n=function(e){console.error(e.name,e.message)};e.exports=n},function(e,t,r){"use strict";var n=r(0),o=/^\.+\//,i=function(e,t){if(n){var i=r(3),s=t.root,c=t.extname;if(o.test(e)){var a=t.filename,u=!a||e===a,p=u?s:i.dirname(a);e=i.resolve(p,e)}else e=i.resolve(s,e);i.extname(e)||(e+=c)}return e};e.exports=i},function(e,t,r){"use strict";var n={test:/{{[ \t]*([@#]?)(\/?)([\w\W]*?)[ \t]*}}/,use:function(e,t,r,o){var i=this,s=i.options,c=i.getEsTokens(o.trim()),a=c.map(function(e){return e.value}),u={},p=void 0,l=!!t&&"raw",f=r+a.shift(),d=function(e,t){console.warn("Template upgrade:","{{"+e+"}}","->","{{"+t+"}}","\n",s.filename||"")};switch("#"===t&&d("#value","@value"),f){case"set":o="var "+a.join("");break;case"if":o="if("+a.join("")+"){";break;case"else":var h=a.indexOf("if");h>-1?(a.splice(0,h+1),o="}else if("+a.join("")+"){"):o="}else{";break;case"/if":o="}";break;case"each":p=n._split(c),p.shift(),"as"===p[1]&&(d("each object as value index","each object value index"),p.splice(1,1));var v=p[0]||"$data",y=p[1]||"$value",m=p[2]||"$index";o="$each("+v+",function("+y+","+m+"){";break;case"/each":o="})";break;case"echo":f="print",d("echo value","value");case"print":case"include":case"extend":p=n._split(c),p.shift(),o=f+"("+p.join(",")+")";break;case"block":o="block("+a.join("")+",function(){";break;case"/block":o="})";break;default:if(-1!==a.indexOf("|")){for(var g=f,b=[],w=a.filter(function(e){return!/^\s+$/.test(e)});"|"!==w[0];)g+=w.shift();w.filter(function(e){return":"!==e}).forEach(function(e){"|"===e?b.push([]):b[b.length-1].push(e)}),b.reduce(function(e,t){var r=t.shift();return t.unshift(e),o="$imports."+r+"("+t.join(",")+")"},g)}else s.imports[f]?(d("filterName value","value | filterName"),p=n._split(c),p.shift(),o=f+"("+p.join(",")+")",l="raw"):o=""+f+a.join("");l||(l="escape")}return u.code=o,u.output=l,u},_split:function(e){for(var t=0,r=e.shift(),n=[[r]];t<e.length;){var o=e[t],i=o.type;"whitespace"!==i&&"comment"!==i&&("punctuator"===r.type&&"]"!==r.value||"punctuator"===i?n[n.length-1].push(o):n.push([o]),r=o),t++}return n.map(function(e){return e.map(function(e){return e.value}).join("")})}};e.exports=n},function(e,t,r){"use strict";var n={test:/<%(#?)((?:==|=#|[=-])?)([\w\W]*?)(-?)%>/,use:function(e,t,r,n){return r={"-":"raw","=":"escape","":!1,"==":"raw","=#":"raw"}[r],t&&(n="/*"+e+"*/",r=!1),{code:n,output:r}}};e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=r(19),i=r(21),s="$data",c="$imports",a="print",u="include",p="extend",l="block",f="$$out",d="$$line",h="$$blocks",v="$$from",y="$$options",m=function(e,t){return e.hasOwnProperty(t)},g=JSON.stringify,b=function(){function e(t){var r,o,m=this;n(this,e);var g=t.source,b=t.minimize,w=t.htmlMinifier;if(this.options=t,this.stacks=[],this.context=[],this.scripts=[],this.CONTEXT_MAP={},this.ignore=[s,c,y].concat(t.ignore),this.internal=(r={},r[f]="''",r[d]="[0,0]",r[h]="arguments[1]||{}",r[v]="null",r[a]="function(){"+f+"+=''.concat.apply('',arguments)}",r[u]="function(src,data){"+f+"+="+y+".include(src,data||"+s+",arguments[2]||"+h+","+y+")}",r[p]="function(from){"+v+"=from}",r[l]="function(name,callback){if("+v+"){"+f+"='';callback();"+h+"[name]="+f+"}else{if(typeof "+h+"[name]==='string'){"+f+"+="+h+"[name]}else{callback()}}}",r),this.dependencies=(o={},o[a]=[f],o[u]=[f,y,s,h],o[p]=[v,u],o[l]=[v,f,h],o),this.importContext(f),t.compileDebug&&this.importContext(d),b)try{g=w(g,t)}catch(e){}this.source=g,this.getTplTokens(g,t.rules,this).forEach(function(e){e.type===i.TYPE_STRING?m.parseString(e):m.parseExpression(e)})}return e.prototype.getTplTokens=function(){return i.apply(void 0,arguments)},e.prototype.getEsTokens=function(e){return o(e)},e.prototype.getVariables=function(e){var t=!1;return e.filter(function(e){return"whitespace"!==e.type&&"comment"!==e.type}).filter(function(e){return"name"===e.type&&!t||(t="punctuator"===e.type&&"."===e.value,!1)}).map(function(e){return e.value})},e.prototype.importContext=function(e){var t=this,r="",n=this.internal,o=this.dependencies,i=this.ignore,a=this.context,u=this.options,p=u.imports,l=this.CONTEXT_MAP;m(l,e)||-1!==i.indexOf(e)||(m(n,e)?(r=n[e],m(o,e)&&o[e].forEach(function(e){return t.importContext(e)})):r="$escape"===e||"$each"===e||m(p,e)?c+"."+e:s+"."+e,l[e]=r,a.push({name:e,value:r}))},e.prototype.parseString=function(e){var t=e.value;if(t){var r=f+"+="+g(t);this.scripts.push({source:t,tplToken:e,code:r})}},e.prototype.parseExpression=function(e){var t=this,r=e.value,n=e.script,o=n.output,s=n.code;o&&(s=!1===escape||o===i.TYPE_RAW?f+"+="+n.code:f+"+=$escape("+n.code+")");var c=this.getEsTokens(s);this.getVariables(c).forEach(function(e){return t.importContext(e)}),this.scripts.push({source:r,tplToken:e,code:s})},e.prototype.checkExpression=function(e){for(var t=[[/^\s*}[\w\W]*?{?[\s;]*$/,""],[/(^[\w\W]*?\([\w\W]*?(?:=>|\([\w\W]*?\))\s*{[\s;]*$)/,"$1})"],[/(^[\w\W]*?\([\w\W]*?\)\s*{[\s;]*$)/,"$1}"]],r=0;r<t.length;){if(t[r][0].test(e)){var n;e=(n=e).replace.apply(n,t[r]);break}r++}try{return new Function(e),!0}catch(e){return!1}},e.prototype.build=function(){var e=this.options,t=this.context,r=this.scripts,n=this.stacks,o=this.source,a=e.filename,l=e.imports,b=[],w=m(this.CONTEXT_MAP,p),x=0,E=function(e,t){var r=t.line,o=t.start,i={generated:{line:n.length+x+1,column:1},original:{line:r+1,column:o+1}};return x+=e.split(/\n/).length-1,i},O=function(e){return e.replace(/^[\t ]+|[\t ]$/g,"")};n.push("function("+s+"){"),n.push("'use strict'"),n.push(s+"="+s+"||{}"),n.push("var "+t.map(function(e){return e.name+"="+e.value}).join(",")),e.compileDebug?(n.push("try{"),r.forEach(function(e){e.tplToken.type===i.TYPE_EXPRESSION&&n.push(d+"=["+[e.tplToken.line,e.tplToken.start].join(",")+"]"),b.push(E(e.code,e.tplToken)),n.push(O(e.code))}),n.push("}catch(error){"),n.push("throw {"+["name:'RuntimeError'","path:"+g(a),"message:error.message","line:"+d+"[0]+1","column:"+d+"[1]+1","source:"+g(o),"stack:error.stack"].join(",")+"}"),n.push("}")):r.forEach(function(e){b.push(E(e.code,e.tplToken)),n.push(O(e.code))}),w&&(n.push(f+"=''"),n.push(u+"("+v+","+s+","+h+")")),n.push("return "+f),n.push("}");var k=n.join("\n");try{var j=new Function(c,y,"return "+k)(l,e);return j.mappings=b,j.sourcesContent=[o],j}catch(e){for(var T=0,S=0,_=0;T<r.length;){var $=r[T];if(!this.checkExpression($.code)){S=$.tplToken.line,_=$.tplToken.start;break}T++}throw{name:"CompileError",path:a,message:e.message,line:S+1,column:_+1,source:o,generated:k,stack:e.stack}}},e}();b.CONSTS={DATA:s,IMPORTS:c,PRINT:a,INCLUDE:u,EXTEND:p,BLOCK:l,OPTIONS:y,OUT:f,LINE:d,BLOCKS:h,FROM:v,ESCAPE:"$escape",EACH:"$each"},e.exports=b},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(e){function t(r){n(this,t);var i=o(this,e.call(this,r)),s=r.message;return t.debugTypes[r.name]&&(r.source&&(s=t.debug(r)),i.path=r.path),i.name="TemplateError",i.message=s,i}return i(t,e),t.debug=function(e){var t=e.source,r=e.path,n=e.line,o=e.column,i=t.split(/\n/),s=Math.max(n-3,0),c=Math.min(i.length,n+3),a=i.slice(s,c).map(function(e,t){var r=t+s+1;return(r===n?" >> ":"    ")+r+"| "+e}).join("\n");return(r||"anonymous")+":"+n+":"+o+"\n"+a+"\n\n"+e.message},t}(Error);s.debugTypes={RuntimeError:!0,CompileError:!0},e.exports=s},function(e,t,r){"use strict";var n=r(24),o=r(5).default,i=r(5).matchToToken,s=function(e){return e.match(o).map(function(e){return o.lastIndex=0,i(o.exec(e))}).map(function(e){return"name"===e.type&&n(e.value)&&(e.type="keyword"),e})};e.exports=s},function(e,t,r){"use strict";(function(t){/*! art-template@runtime | https://github.com/aui/art-template */
var n=r(0),o=Object.create(n?t:window),i=function e(t){return"string"!=typeof t&&(t=void 0===t||null===t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t)),t},s=/["&'<>]/,c=function(e){var t=""+e,r=s.exec(t);if(!r)return e;var n="",o=void 0,i=void 0,c=void 0;for(o=r.index,i=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:c="&#34;";break;case 38:c="&#38;";break;case 39:c="&#39;";break;case 60:c="&#60;";break;case 62:c="&#62;";break;default:continue}i!==o&&(n+=t.substring(i,o)),i=o+1,n+=c}return i!==o?n+t.substring(i,o):n},a=function(e){return c(i(e))},u=function(e,t){if(Array.isArray(e))for(var r=0,n=e.length;r<n;r++)t(e[r],r,e);else for(var o in e)t(e[o],o)};o.$each=u,o.$escape=a,e.exports=o}).call(t,r(4))},function(e,t,r){"use strict";var n=function(e,t,r){for(var n=[{type:"string",value:e,line:0,start:0,end:e.length}],o=0;o<t.length;o++)!function(e){for(var t=e.test.ignoreCase?"ig":"g",o=e.test.source+"|^$|[\\w\\W]",i=new RegExp(o,t),s=0;s<n.length;s++)if("string"===n[s].type){for(var c=n[s].line,a=n[s].start,u=n[s].end,p=n[s].value.match(i),l=[],f=0;f<p.length;f++){var d=p[f];e.test.lastIndex=0;var h=e.test.exec(d),v=h?"expression":"string",y=l[l.length-1],m=y||n[s],g=m.value;a=m.line===c?y?y.end:a:g.length-g.lastIndexOf("\n")-1,u=a+d.length;var b={type:v,value:d,line:c,start:a,end:u};if("string"===v)y&&"string"===y.type?(y.value+=d,y.end+=d.length):l.push(b);else{var w=e.use.apply(r,h);b.script=w,l.push(b)}c+=d.split(/\n/).length-1}n.splice.apply(n,[s,1].concat(l)),s+=l.length-1}}(t[o]);return n};n.TYPE_STRING="string",n.TYPE_EXPRESSION="expression",n.TYPE_RAW="raw",n.TYPE_ESCAPE="escape",e.exports=n},function(e,t,r){"use strict";var n=r(7),o=r(1),i=r(6),s=function(e,t){return t instanceof Object?n({filename:e},t):o({filename:e,source:t})};s.render=n,s.compile=o,s.defaults=i,e.exports=s},function(e,t){!function(e){e.noop=function(){}}("object"==typeof e&&"object"==typeof e.exports?e.exports:window)},function(e,t,r){"use strict";var n={abstract:!0,await:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0,yield:!0};e.exports=function(e){return n.hasOwnProperty(e)}}])})},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){function n(e,t){for(var r,n=[],o=0,i=0,s="",c=t&&t.delimiter||"/";null!=(r=g.exec(e));){var p=r[0],l=r[1],f=r.index;if(s+=e.slice(i,f),i=f+p.length,l)s+=l[1];else{var d=e[i],h=r[2],v=r[3],y=r[4],m=r[5],b=r[6],w=r[7];s&&(n.push(s),s="");var x=null!=h&&null!=d&&d!==h,E="+"===b||"*"===b,O="?"===b||"*"===b,k=r[2]||c,j=y||m;n.push({name:v||o++,prefix:h||"",delimiter:k,optional:O,repeat:E,partial:x,asterisk:!!w,pattern:j?u(j):w?".*":"[^"+a(k)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&n.push(s),n}function o(e,t){return c(n(e,t))}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"==typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var o="",c=r||{},a=n||{},u=a.pretty?i:encodeURIComponent,p=0;p<e.length;p++){var l=e[p];if("string"!=typeof l){var f,d=c[l.name];if(null==d){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(m(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(f=u(d[h]),!t[p].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?s(d):u(d),!t[p].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function p(e,t){return e.keys=t,e}function l(e){return e.sensitive?"":"i"}function f(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return p(e,t)}function d(e,t,r){for(var n=[],o=0;o<e.length;o++)n.push(y(e[o],t,r).source);return p(new RegExp("(?:"+n.join("|")+")",l(r)),t)}function h(e,t,r){return v(n(e,r),t,r)}function v(e,t,r){m(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,o=!1!==r.end,i="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)i+=a(c);else{var u=a(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+u+f+")*"),f=c.optional?c.partial?u+"("+f+")?":"(?:"+u+"("+f+"))?":u+"("+f+")",i+=f}}var d=a(r.delimiter||"/"),h=i.slice(-d.length)===d;return n||(i=(h?i.slice(0,-d.length):i)+"(?:"+d+"(?=$))?"),i+=o?"$":n&&h?"":"(?="+d+"|$)",p(new RegExp("^"+i,l(r)),t)}function y(e,t,r){return m(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?f(e,t):m(e)?d(e,t,r):h(e,t,r)}var m=r(4);e.exports=y,e.exports.parse=n,e.exports.compile=o,e.exports.tokensToFunction=c,e.exports.tokensToRegExp=v;var g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(e,t,r){function n(e){this.props=e.props||{},this.state=e.state||{},this.rootScope=e.rootScope||document}function o(e){var t=function(e){n.call(this,e)};s.inherit(n,t);for(var r=["onStart","onStop","onCreate","onDestroy","onRender"],o=0;o<r.length;o++)e[r[o]]&&(t.prototype[r[o]]=e[r[o]]);return e.template&&(t.prototype.template=i.compile(e.template)),t}var i=r(3),s=r(0);n.prototype.render=function(){var e=s.assign(this.props,this.state);this.onRender(e,function(e){var t=this.template&&this.template(e);this.rootScope.innerHTML=t||"template is empty",this.onStart(this.rootScope)}.bind(this))},n.prototype.setState=function(e){this.onStop(this.rootScope),this.state=s.assign(this.state,e),setTimeout(function(){this.render()}.bind(this),0)},n.prototype.remove=function(){this.onStop(this.rootScope),this.onDestroy()},n.prototype.onCreate=function(){},n.prototype.onStart=function(){},n.prototype.onStop=function(){},n.prototype.onDestroy=function(){},n.prototype.onRender=function(e,t){t(e)},n.prototype.template="",e.exports={create:o}},function(e,t,r){var n=r(2),o=r(0),i=new n;i.utils=o,e.exports=i},function(e,t){function r(e){this.resource={},this.baseUrl=e||""}r.prototype.setBaseUrl=function(e){this.baseUrl=e},r.prototype.get=function(e,t){if(this.resource[e])return t(this.resource[e]);var r=document.createElement("script");r.setAttribute("src",this.baseUrl+"/"+e.toLowerCase()+".js"),document.body.append(r);var n=this;r.onload=function(){return t(n.resource[e]?n.resource[e]:!1)}},r.prototype.set=function(e,t){return this.resource[e]=t,!0},e.exports=r},function(e,t,r){function n(e,t){i.call(this,e,t)}var o=r(0),i=r(1);o.inherit(i,n),n.prototype.getLocation=function(){var e=this.routerBaseUrl,t=window.location.hash;""===t&&window.location.replace("#/"),t=t.substr(1);var r=t.indexOf(e);return(0===r||1===r)&&t.substr(r+e.length)},n.prototype.redirect=function(e,t,r){if(e=this.routerBaseUrl+e,t&&(e+=o.encodeQueryString(t)),void 0===r||r)window.location.hash=e;else{var n=window.location.pathname+window.location.search+"#"+e;window.location.replace(n)}},n.prototype.start=function(){var e=this;window.onhashchange=function(){e.onChange()},i.prototype.start.call(this)},e.exports=n},function(e,t,r){function n(e,t){i.call(this,e,t)}var o=r(0),i=r(1);o.inherit(i,n),n.prototype.getLocation=function(){var e=this.routerBaseUrl,t=window.location.pathname;return 0===t.indexOf(e)&&t.substr(e.length)},n.prototype.redirect=function(e,t,r){e=this.routerBaseUrl+e,t&&(e+=o.encodeQueryString(t)),void 0===r||r?window.history.pushState({},"",e):window.history.replaceState({},"",e),this.onChange()},n.prototype.start=function(){var e=this;window.onpopstate=function(t){e.onChange(t)},i.prototype.start.call(this)},e.exports=n},function(e,t,r){e.exports={HistoryRouter:r(10),HashRouter:r(9)}}])});
//# sourceMappingURL=pow-router.js.map